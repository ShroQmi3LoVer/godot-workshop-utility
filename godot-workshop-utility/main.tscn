[gd_scene load_steps=3 format=3 uid="uid://dp67dkv0qmtsw"]

[ext_resource type="Script" uid="uid://dsrukjeou5c6y" path="res://main.gd" id="1"]
[ext_resource type="Script" uid="uid://bt6irrqaj3jf3" path="res://steam_service.gd" id="2_0xm2m"]

[node name="Main" type="PanelContainer"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
script = ExtResource("1")

[node name="SteamService" type="Node" parent="."]
script = ExtResource("2_0xm2m")

[node name="MarginContainer" type="MarginContainer" parent="."]
layout_mode = 2
theme_override_constants/margin_left = 20
theme_override_constants/margin_top = 20
theme_override_constants/margin_right = 20
theme_override_constants/margin_bottom = 20

[node name="FileDialog" type="FileDialog" parent="MarginContainer"]
unique_name_in_owner = true
title = "Open a File"
ok_button_text = "Open"
file_mode = 0
access = 2
filters = PackedStringArray("*.zip,*.pck,application/zip")

[node name="PreviewImageDialog" type="FileDialog" parent="MarginContainer"]
unique_name_in_owner = true
title = "Open a File"
ok_button_text = "Open"
file_mode = 0
access = 2
filters = PackedStringArray("*.png,*.jpg,*.jpeg;Image Files;image/png,image/jpeg")

[node name="VBoxContainer" type="VBoxContainer" parent="MarginContainer"]
layout_mode = 2
alignment = 1

[node name="Control" type="Control" parent="MarginContainer/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3

[node name="UploadContainer" type="VBoxContainer" parent="MarginContainer/VBoxContainer"]
unique_name_in_owner = true
custom_minimum_size = Vector2(500, 0)
layout_mode = 2
theme_override_constants/separation = 20
alignment = 1

[node name="HBoxContainer" type="HBoxContainer" parent="MarginContainer/VBoxContainer/UploadContainer"]
layout_mode = 2
size_flags_horizontal = 3
theme_override_constants/separation = 25
alignment = 1

[node name="VBoxContainer" type="VBoxContainer" parent="MarginContainer/VBoxContainer/UploadContainer/HBoxContainer"]
custom_minimum_size = Vector2(0, 123)
layout_mode = 2
size_flags_horizontal = 3
theme_override_constants/separation = 10
alignment = 1

[node name="Label" type="Label" parent="MarginContainer/VBoxContainer/UploadContainer/HBoxContainer/VBoxContainer"]
layout_mode = 2
text = "Upload a mod to the workshop"
horizontal_alignment = 1

[node name="HBoxContainer2" type="HBoxContainer" parent="MarginContainer/VBoxContainer/UploadContainer/HBoxContainer/VBoxContainer"]
layout_mode = 2

[node name="FileLineEdit" type="LineEdit" parent="MarginContainer/VBoxContainer/UploadContainer/HBoxContainer/VBoxContainer/HBoxContainer2"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
placeholder_text = "Select mod file"
editable = false

[node name="SelectModButton" type="Button" parent="MarginContainer/VBoxContainer/UploadContainer/HBoxContainer/VBoxContainer/HBoxContainer2"]
unique_name_in_owner = true
layout_mode = 2
text = "..."

[node name="HBoxContainer" type="HBoxContainer" parent="MarginContainer/VBoxContainer/UploadContainer/HBoxContainer/VBoxContainer"]
layout_mode = 2

[node name="PreviewLineEdit" type="LineEdit" parent="MarginContainer/VBoxContainer/UploadContainer/HBoxContainer/VBoxContainer/HBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
placeholder_text = "Select preview image"
editable = false

[node name="SelectPreviewButton" type="Button" parent="MarginContainer/VBoxContainer/UploadContainer/HBoxContainer/VBoxContainer/HBoxContainer"]
layout_mode = 2
text = "..."

[node name="WorkshopIDLineEdit" type="LineEdit" parent="MarginContainer/VBoxContainer/UploadContainer/HBoxContainer/VBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
placeholder_text = "No workshop ID"

[node name="TagContainer" type="VBoxContainer" parent="MarginContainer/VBoxContainer/UploadContainer/HBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
theme_override_constants/separation = 10

[node name="TagLabel" type="Label" parent="MarginContainer/VBoxContainer/UploadContainer/HBoxContainer/TagContainer"]
unique_name_in_owner = true
layout_mode = 2
text = "Tags (CTRL + Click to select/deselect)"
horizontal_alignment = 1

[node name="ScrollContainer" type="ScrollContainer" parent="MarginContainer/VBoxContainer/UploadContainer/HBoxContainer/TagContainer"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="TagList" type="ItemList" parent="MarginContainer/VBoxContainer/UploadContainer/HBoxContainer/TagContainer/ScrollContainer"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
select_mode = 1
allow_reselect = true
allow_rmb_select = true
auto_height = true
max_columns = 10
same_column_width = true

[node name="VBoxContainer2" type="VBoxContainer" parent="MarginContainer/VBoxContainer/UploadContainer"]
custom_minimum_size = Vector2(300, 0)
layout_mode = 2
size_flags_horizontal = 4
theme_override_constants/separation = 10
alignment = 1

[node name="UploadButton" type="Button" parent="MarginContainer/VBoxContainer/UploadContainer/VBoxContainer2"]
unique_name_in_owner = true
layout_mode = 2
text = "Upload"

[node name="TermsOfServiceLabel" type="RichTextLabel" parent="MarginContainer/VBoxContainer/UploadContainer/VBoxContainer2"]
layout_mode = 2
bbcode_enabled = true
text = "By submitting this item, you agree to the workshop terms of service
"
scroll_active = false

[node name="Control2" type="Control" parent="MarginContainer/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3

[node name="HBoxContainer" type="HBoxContainer" parent="MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_constants/separation = 10

[node name="Instructions" type="RichTextLabel" parent="MarginContainer/VBoxContainer/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
bbcode_enabled = true
text = "Instructions

1) Select the mod you want to upload (.zip) (needs to be compatible with ModLoader)

2) Select a preview image if it's the first time uploading the mod or if you want to change it

3) Select tags for your mod if available (leave empty if you don't want to change them)

4) Add the mod's workshop ID if you're updating it, leave empty if it's a new mod

5) Upload it and take note of the workshop ID if it's a new mod. Use it when you want to update it

6) Check and edit your mod in the Steam Workshop, then set it public when it's ready"

[node name="Console" type="TextEdit" parent="MarginContainer/VBoxContainer/HBoxContainer"]
unique_name_in_owner = true
custom_minimum_size = Vector2(400, 300)
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="MarginContainer" type="MarginContainer" parent="MarginContainer/VBoxContainer/HBoxContainer/Console"]
layout_mode = 0
anchor_right = 1.0
anchor_bottom = 1.0
size_flags_horizontal = 3
size_flags_vertical = 3
theme_override_constants/margin_left = 10
theme_override_constants/margin_top = 10
theme_override_constants/margin_right = 10
theme_override_constants/margin_bottom = 10

[node name="ScrollContainer" type="ScrollContainer" parent="MarginContainer/VBoxContainer/HBoxContainer/Console/MarginContainer"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="ConsoleContent" type="Label" parent="MarginContainer/VBoxContainer/HBoxContainer/Console/MarginContainer/ScrollContainer"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 7

[connection signal="file_selected" from="MarginContainer/FileDialog" to="." method="_on_FileDialog_file_selected"]
[connection signal="file_selected" from="MarginContainer/PreviewImageDialog" to="." method="_on_PreviewImageDialog_file_selected"]
[connection signal="pressed" from="MarginContainer/VBoxContainer/UploadContainer/HBoxContainer/VBoxContainer/HBoxContainer2/SelectModButton" to="." method="_on_SelectModButton_pressed"]
[connection signal="pressed" from="MarginContainer/VBoxContainer/UploadContainer/HBoxContainer/VBoxContainer/HBoxContainer/SelectPreviewButton" to="." method="_on_SelectPreviewButton_pressed"]
[connection signal="pressed" from="MarginContainer/VBoxContainer/UploadContainer/VBoxContainer2/UploadButton" to="." method="_on_UploadButton_pressed"]
[connection signal="meta_clicked" from="MarginContainer/VBoxContainer/UploadContainer/VBoxContainer2/TermsOfServiceLabel" to="." method="_on_TermsOfServiceLabel_meta_clicked"]
[connection signal="meta_clicked" from="MarginContainer/VBoxContainer/HBoxContainer/Instructions" to="." method="_on_Instructions_meta_clicked"]
